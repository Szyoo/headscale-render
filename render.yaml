# Render Blueprint template. Adjust values as needed.
services:
  - type: web
    name: headscale
    runtime: docker
    plan: free
    region: oregon
    dockerfilePath: Dockerfile
    dockerContext: .
  - type: web
    name: headscale-ui
    runtime: image
    plan: free
    region: oregon
    image:
      url: ghcr.io/gurucomputing/headscale-ui:latest
    envVars:
      - key: HEADSCALE_URL
        value: https://headscale-6bpk.onrender.com
      - key: HEADSCALE_API_KEY
        value: REPLACE_ME
  - type: web
    name: headscale-gateway
    runtime: docker
    plan: free
    region: oregon
    dockerfilePath: gateway/Dockerfile
    dockerContext: gateway
    envVars:
      - key: HEADSCALE_UPSTREAM
        value: https://headscale-6bpk.onrender.com
      - key: UI_UPSTREAM
        value: https://headscale-ui-5zwu.onrender.com
